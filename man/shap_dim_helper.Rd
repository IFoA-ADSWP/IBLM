% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/explain.R
\name{shap_dim_helper}
\alias{shap_dim_helper}
\title{Compute SHAP Value Corrections for GLM Coefficients}
\usage{
shap_dim_helper(
  frame,
  wide_frame,
  vartypes,
  reference_levels,
  cat_levels,
  target,
  no_cat_toggle,
  beta_correction = TRUE,
  epsilon = 0.05
)
}
\arguments{
\item{frame}{Data frame containing raw SHAP values from XGBoost.}

\item{wide_frame}{Wide format input data frame (one-hot encoded).}

\item{vartypes}{Named vector indicating the data type of each variable.}

\item{reference_levels}{Character vector of reference level names for categorical variables.}

\item{cat_levels}{Named list of categorical variable levels.}

\item{target}{Character string specifying the target variable name.}

\item{no_cat_toggle}{Logical indicating absence of categorical variables.}

\item{beta_correction}{Logical, whether to apply beta corrections (default TRUE).}

\item{epsilon}{Numeric threshold for avoiding division by very small numbers (default 0.05).}
}
\value{
A data frame with corrected SHAP values where:
\itemize{
  \item Categorical variables are properly aggregated by factor level
  \item Continuous variables are normalized by their actual values
  \item Reference level and zero-value corrections are added to the bias term
}
}
\description{
Processes raw SHAP values to create coefficient corrections that account for
zero values in continuous variables and reference levels in categorical variables.
}
\details{
This function performs several key corrections:
1. Redistributes SHAP values for categorical variables across their levels
2. Adjusts for zero values in continuous variables
3. Accounts for reference category effects
4. Normalizes SHAP values by actual variable values for interpretability
}
\keyword{internal}
