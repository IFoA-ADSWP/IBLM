% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/explain.R
\name{explain}
\alias{explain}
\title{Explain GLM Model Predictions Using SHAP Values}
\usage{
explain(x, d, as_contribution = FALSE)
}
\arguments{
\item{x}{A list object of class 'ens'. This should be output by `train_glm_xgb()`}

\item{d}{A data frame containing the input data for which explanations are desired.
Should contain the same variables as used in model training.}

\item{as_contribution}{Logical, currently unused parameter for future functionality.}
}
\value{
A list containing:
\describe{
  \item{shap_correction_scatter}{Function to create scatter plots showing SHAP corrections vs variable values}
  \item{shap_correction_density}{Function to create density plots of SHAP corrections for variables}
  \item{shap_intercept}{List containing intercept correction visualizations}
  \item{overall_correction}{Function to show global correction distributions}
  \item{input_frame}{Original input data frame}
  \item{shap_wide}{Wide format SHAP corrections data frame}
  \item{raw_shap}{Raw SHAP values from XGBoost}
  \item{betas}{GLM model coefficients}
  \item{allnames}{Names of all model coefficients except intercept}
}
}
\description{
Creates an explainer object that generates SHAP (SHapley Additive exPlanations)
values for GLM model predictions, providing various visualization and analysis
functions to understand model behavior and feature contributions.
}
\details{
The function processes both continuous and categorical variables, handles
reference levels for factors, and applies corrections to account for zero values
and categorical reference categories. The resulting explainer provides multiple
visualization methods to understand how SHAP values modify GLM predictions.
}
\examples{
\dontrun{
# Assuming you have fitted both GLM and XGBoost models
models <- list(glm_model = my_glm, xgb_model = my_xgb)
explainer <- explain(models, test_data)

# Generate scatter plot for a variable
explainer$shap_correction_scatter("age")

# Show density of corrections
explainer$shap_correction_density("income")
}

}
